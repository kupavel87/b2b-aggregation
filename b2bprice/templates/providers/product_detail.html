{% extends 'base.html' %}

{% block content %}
<div class="container mb-2">
    <div class="card" productid="{{product_id}}">
        <div class="card-header"><h4>{{ property.name }}</h4></div>
        <div class="card-body" id="body">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active mb-2" id="group-tab" data-toggle="tab" href="#property" role="tab"
                        aria-controls="group" aria-selected="true">Свойства</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link mb-2" id="image-tab" data-toggle="tab" href="#image" role="tab"
                        aria-controls="image" aria-selected="false">Изображения</a>
                </li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="property" role="tabpanel" aria-labelledby="group-tab">
                    <table class="table table-striped table-bordered">
                        {% for key, value in property.basic.items %}
                        <tr>
                            <th>{{ key }}</th>
                            <td>{{ value }}</td>
                        </tr>
                        {% endfor %}
                        {% for _, value in property.personal.items %}
                        <tr>
                            <th>{{ value.Name }}</th>
                            <td>{{ value.Value }}</td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>
                <div class="tab-pane fade" id="image" role="tabpanel" aria-labelledby="image-tab">
                    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner">
                            <ol class="carousel-indicators">
                                {% for img in property.Изображение %}
                                <li data-target="#carouselExampleControls" data-slide-to="{{ forloop.counter0 }}"
                                    {% if forloop.first %} class="active" {% endif %}>
                                </li>
                                {% endfor %}
                            </ol>
                            {% for img in property.Изображение %}
                            <div {% if forloop.first %} class="carousel-item active">
                                {% else %}
                                class="carousel-item">
                                {% endif %}
                                <img src="{{img}}" class="d-block w-100" alt="...">
                            </div>
                            {% endfor %}
                            <a class="carousel-control-prev" href="#carouselExampleControls" role="button"
                                data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carouselExampleControls" role="button"
                                data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-footer text-muted">{{ text }}</div>
    </div>
</div>
{% endblock %}